services:
  open-webui:
    environment:
      # https://docs.openwebui.com/getting-started/advanced-topics/env-configuration
      WEBUI_AUTH: True
      ENABLE_FORWARD_USER_INFO_HEADERS: True
      ENABLE_FORWARD_OAUTH_TOKEN: True
      # Authentication settings (https://docs.openwebui.com/features/sso#oidc)
      ENABLE_SIGNUP: True
#      ENABLE_LOGIN_FORM: True
      OAUTH_CLIENT_ID: "bwell-client-id"
      OPENID_PROVIDER_URL: "http://keycloak:8085/realms/bwell-realm/.well-known/openid-configuration"
      OAUTH_CLIENT_SECRET: "bwell-secret"
      ENABLE_OAUTH_SIGNUP: True
      OAUTH_PROVIDER_NAME: "keycloak"
      OAUTH_SCOPES: "openid email"
      OAUTH_USERNAME_CLAIM: "email"
      WEBUI_URL: "https://open-webui.localhost"
      # Sets the JWT expiration time in seconds. Valid time units: s, m, h, d, w or -1 for no expiration
      JWT_EXPIRES_IN: "12h"
