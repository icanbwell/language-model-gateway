{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": [
    "id",
    "name",
    "description"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the model."
    },
    "name": {
      "type": "string",
      "description": "Display name of task model - this is the name shown in the dropdown in the b.well AI tool"
    },
    "description": {
      "type": "string",
      "description": "This is the text shown when a user types “help” in that model's chat window."
    },
    "type": {
      "type": "string",
      "description": "Type of model.",
      "default": "langchain",
      "enum": [
        "langchain",
        "openai",
        "passthru"
      ]
    },
    "owner": {
      "type": ["string", "null"],
      "description": "This is the name of the owner of this model.  It is shown when someone types help in that model.  This is to help people reach out to owners of a model if they have questions, have issues or just want to thank the owner for creating this model.",
      "default": null
    },
    "url": {
      "type": ["string", "null"],
      "description": "If we are not using the local language model gateway, this is the URL to the model.",
      "format": "uri",
      "default": null
    },
    "disabled": {
      "type": ["boolean", "null"],
      "description": "If true, this model will not be shown in the list of models in the b.well AI tool.",
      "default": null
    },
    "model": {
      "type": ["object", "null"],
      "description": "This is the model that is used for the task.  If you don't specify the model, our AI will chose the default model.  This is the recommended approach unless you want a specific model.",
      "required": [
        "provider",
        "model"
      ],
      "properties": {
        "provider": {
          "type": "string",
          "description": "Provider of the model.",
          "enum": [
            "bedrock",
            "openai",
            "google",
            "passthru"
          ]
        },
        "model": {
          "type": "string",
          "description": "Model name.  This should be a specific language model supported by AWS Bedrock and enabled for our AWS account.  We recommend us.anthropic.claude-3-5-haiku-20241022-v1:0 unless you know what you're doing."
        }
      },
      "default": null
    },
    "system_prompts": {
      "type": ["array", "null"],
      "description": "These are the prompts that are sent to the model before any user messages. In system prompts, you can define the role of the LLM agent, provide it instructions, provide it example output and constrain its function.",
      "items": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "description": "Role of the prompt.  This can be system, assistant or user.",
            "enum": [
              "system",
              "assistant",
              "user"
            ],
            "default": "system"
          },
          "content": {
            "type": ["string", "null"],
            "description": "Content of the prompt.",
            "default": null
          },
          "hub_id": {
            "type": ["string", "null"],
            "description": "Langhub ID of the prompt.  If set, the prompt will be fetched from the langhub.",
            "default": null
          },
          "cache": {
            "type": ["boolean", "null"],
            "description": "If true, the LLM will cache this prompt for future uses.",
            "default": null
          }
        }
      },
      "default": null
    },
    "example_prompts": {
      "type": ["array", "null"],
      "description": "These example prompts are shown when the user types help in the chat window.",
      "items": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "description": "Role of the prompt.  This can be system, assistant or user.",
            "enum": [
              "system",
              "assistant",
              "user"
            ],
            "default": "system"
          },
          "content": {
            "type": ["string", "null"],
            "description": "Content of the prompt.",
            "default": null
          },
          "hub_id": {
            "type": ["string", "null"],
            "description": "Langhub ID of the prompt.  If set, the prompt will be fetched from the langhub.",
            "default": null
          },
          "cache": {
            "type": ["boolean", "null"],
            "description": "If true, the LLM will cache this prompt for future uses.",
            "default": null
          }
        }
      },
      "default": null
    },
    "model_parameters": {
      "type": ["array", "null"],
      "description": "These are the parameters to configure the base model. ",
      "items": {
        "type": "object",
        "required": [
          "key",
          "value"
        ],
        "properties": {
          "key": {
            "type": "string",
            "description": "Parameter name."
          },
          "value": {
            "type": ["number", "string", "integer", "boolean"],
            "description": "Parameter value."
          }
        }
      },
      "default": null
    },
    "headers": {
      "type": ["array", "null"],
      "description": "These are the headers that are sent to the URL if set.",
      "items": {
        "type": "object",
        "required": [
          "key",
          "value"
        ],
        "properties": {
          "key": {
            "type": "string",
            "description": "Header key."
          },
          "value": {
            "type": "string",
            "description": "Header value."
          }
        }
      },
      "default": null
    },
    "tools": {
      "type": ["array", "null"],
      "description": "These are the tools that are available for the model.",
      "items": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the tool."
          },
          "parameters": {
            "type": ["array", "null"],
            "description": "The parameters for the tool",
            "items": {
              "type": "object",
              "required": [
                "key",
                "value"
              ],
              "properties": {
                "key": {
                  "type": "string",
                  "description": "Parameter name."
                },
                "value": {
                  "type": "string",
                  "description": "Parameter value."
                }
              }
            },
            "default": null
          },
          "url": {
            "type": ["string", "null"],
            "description": "The MCP (Model Context Protocol) URL to access the tool",
            "default": null
          },
          "headers": {
            "type": ["object", "null"],
            "description": "The headers to pass to the MCP tool",
            "additionalProperties": {
              "type": "string"
            },
            "default": null
          },
          "tools": {
            "type": ["string", "null"],
            "description": "The names of the tool to use in the MCP call.  If none is provided then all tools at the URL will be used. Separate multiple tool names with commas.",
            "default": null
          },
          "auth": {
            "type": ["string", "null"],
            "description": "The authentication method to use when calling the tool",
            "enum": [
              "None",
              "jwt_token",
              "oauth",
              null
            ],
            "default": null
          },
          "auth_optional": {
            "type": ["boolean", "null"],
            "description": "Whether authentication is optional when calling the tool.  Default is None.",
            "default": null
          },
          "auth_providers": {
            "type": ["array", "null"],
            "description": "The auth providers for the authentication. If multiple are provided then the tool accepts ANY of those auth providers.  If auth is needed, we will use the first auth provider.",
            "items": {
              "type": "string"
            },
            "default": null
          },
          "issuers": {
            "type": ["array", "null"],
            "description": "The issuers for the authentication. If multiple are provided then the tool accepts ANY of those issuers. If auth is needed, we will use the first issuer. If none is provided then we use the default issuer from the OIDC provider.",
            "items": {
              "type": "string"
            },
            "default": null
          }
        }
      }
    },
    "agents": {
      "type": ["array", "null"],
      "description": "These are the agents that are available for the model.",
      "items": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the agent."
          },
          "parameters": {
            "type": ["array", "null"],
            "description": "The parameters for the agent",
            "items": {
              "type": "object",
              "required": [
                "key",
                "value"
              ],
              "properties": {
                "key": {
                  "type": "string",
                  "description": "Parameter name."
                },
                "value": {
                  "type": "string",
                  "description": "Parameter value."
                }
              }
            },
            "default": null
          },
          "url": {
            "type": ["string", "null"],
            "description": "The MCP (Model Context Protocol) URL to access the agent",
            "default": null
          },
          "headers": {
            "type": ["object", "null"],
            "description": "The headers to pass to the MCP agent",
            "additionalProperties": {
              "type": "string"
            },
            "default": null
          },
          "tools": {
            "type": ["string", "null"],
            "description": "The names of the tool to use in the MCP call.  If none is provided then all tools at the URL will be used. Separate multiple tool names with commas.",
            "default": null
          },
          "auth": {
            "type": ["string", "null"],
            "description": "The authentication method to use when calling the agent",
            "enum": [
              "None",
              "jwt_token",
              "oauth",
              null
            ],
            "default": null
          },
          "auth_optional": {
            "type": ["boolean", "null"],
            "description": "Whether authentication is optional when calling the agent.  Default is None.",
            "default": null
          },
          "auth_providers": {
            "type": ["array", "null"],
            "description": "The auth providers for the authentication. If multiple are provided then the agent accepts ANY of those auth providers.  If auth is needed, we will use the first auth provider.",
            "items": {
              "type": "string"
            },
            "default": null
          },
          "issuers": {
            "type": ["array", "null"],
            "description": "The issuers for the authentication. If multiple are provided then the agent accepts ANY of those issuers. If auth is needed, we will use the first issuer. If none is provided then we use the default issuer from the OIDC provider.",
            "items": {
              "type": "string"
            },
            "default": null
          }
        }
      }
    }
  }
}
